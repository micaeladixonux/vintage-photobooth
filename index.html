<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#f5f2ed">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Snaptime">
  <meta name="description" content="Vintage photobooth - capture 3 photos and create a beautiful strip">
  <title>Snaptime ‚Äî Vintage Photobooth</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <canvas id="canvas"></canvas>

  <!-- WELCOME -->
  <div id="welcome" class="screen welcome active">
    <div class="camera-hero">
      <div class="polaroid-body">
        <div class="flash-unit">
          <div class="flash-window"></div>
        </div>
        <div class="viewfinder-box"></div>
        <div class="lens-housing">
          <div class="lens-inner">
            <div class="lens-glass"></div>
          </div>
        </div>
        <div class="shutter-btn-display"></div>
        <div class="rainbow-stripe">
          <span></span><span></span><span></span><span></span>
        </div>
        <div class="film-slot"></div>
      </div>
    </div>

    <h1>Snaptime</h1>
    <p>Take 3 photos. Get a vintage strip.</p>

    <div id="error" class="error-box hidden"></div>

    <button id="startBtn" class="btn btn-primary">Start</button>
  </div>

  <!-- CAPTURE -->
  <div id="capture" class="screen capture">
    <div class="capture-header">
      <div id="captureStatus" class="capture-status"></div>
      <div class="photo-count-row">
        <span class="photo-count">Photo <span id="photoNum">1</span>/3</span>
        <div class="dots">
          <div class="dot active" data-n="1"></div>
          <div class="dot" data-n="2"></div>
          <div class="dot" data-n="3"></div>
        </div>
      </div>
    </div>

    <div class="camera-section">
      <div class="video-container">
        <video id="video" autoplay playsinline muted></video>
        <div id="countdownBox" class="countdown-display hidden">
          <span id="countdownNum" class="countdown-num">3</span>
        </div>
      </div>

      <button id="captureBtn" class="capture-btn">
        <div class="capture-btn-inner"></div>
      </button>

      <div id="miniPreviews" class="mini-previews">
        <div class="mini-preview empty"></div>
        <div class="mini-preview empty"></div>
        <div class="mini-preview empty"></div>
      </div>

      <div class="color-picker">
        <span class="color-picker-label">Frame</span>
        <div id="colorOptions" class="color-options"></div>
      </div>
    </div>
  </div>

  <!-- RESULT -->
  <div id="result" class="screen result">
    <!-- Desktop layout with camera -->
    <div class="result-desktop">
      <div class="result-camera">
        <div class="polaroid-body">
          <div class="flash-unit">
            <div class="flash-window"></div>
          </div>
          <div class="viewfinder-box"></div>
          <div class="lens-housing">
            <div class="lens-inner">
              <div class="lens-glass"></div>
            </div>
          </div>
          <div class="shutter-btn-display"></div>
          <div class="rainbow-stripe">
            <span></span><span></span><span></span><span></span>
          </div>
          <div class="film-slot"></div>
        </div>

        <div class="strip-container">
          <div id="photoStrip" class="photo-strip" style="background: #fff;">
            <div id="stripPhotos" class="strip-photos"></div>
            <div id="stripFooter" class="strip-footer" style="color: #1a1a1a;">snaptime</div>
            <div id="stickersContainer"></div>
            <div id="canvasContainer" class="strip-canvas-container">
              <canvas id="drawCanvas"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="actions-section desktop-actions">
        <div class="panel">
          <p class="panel-title">Frame Color</p>
          <div id="review-colors" class="color-options"></div>
        </div>

        <div class="panel">
          <p class="panel-title">Decorate</p>
          <div class="edit-tabs">
            <button id="tabStickers" class="edit-tab active">‚ú® Stickers</button>
            <button id="tabDraw" class="edit-tab">‚úèÔ∏è Draw</button>
          </div>
          
          <div id="stickerPanel">
            <div class="sticker-grid" id="stickerGrid"></div>
            <div class="sticker-actions">
              <button id="clearStickers" class="draw-action">üóë Clear All</button>
            </div>
            <p class="edit-hint">Tap sticker ‚Üí tap photo to place ‚Ä¢ Tap placed to delete</p>
          </div>
          
          <div id="drawPanel" class="hidden">
            <div class="draw-controls">
              <div class="draw-row">
                <span class="draw-label">Color</span>
                <div class="draw-colors" id="drawColors"></div>
              </div>
              <div class="draw-row">
                <span class="draw-label">Size</span>
                <div class="draw-sizes" id="drawSizes"></div>
              </div>
              <div class="draw-actions">
                <button id="undoDraw" class="draw-action">‚Ü© Undo</button>
                <button id="clearDraw" class="draw-action">Clear All</button>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <p class="panel-title">Effects</p>
          <div id="enhancement-grid" class="enhancement-grid"></div>
        </div>

        <div class="action-buttons">
          <button id="downloadBtn" class="btn btn-primary">Download</button>
          <button id="resetBtn" class="btn btn-secondary">Start Over</button>
        </div>
      </div>
    </div>

    <!-- Mobile layout - photo focused -->
    <div class="result-mobile">
      <!-- Photo area with camera -->
      <div class="mobile-photo-area">
        <div class="mobile-camera-wrapper">
          <!-- Mini camera -->
          <div class="mobile-camera">
            <div class="mobile-camera-flash">
              <div class="mobile-flash-window"></div>
            </div>
            <div class="mobile-camera-body">
              <div class="mobile-camera-lens"></div>
              <div class="mobile-rainbow">
                <span></span><span></span><span></span><span></span>
              </div>
            </div>
            <div class="mobile-film-slot"></div>
          </div>
          
          <!-- Photo strip printing out -->
          <div id="photoStripMobile" class="photo-strip-mobile" style="background: #fff;">
            <div id="stripPhotosMobile" class="strip-photos"></div>
            <div id="stripFooterMobile" class="strip-footer" style="color: #1a1a1a;">snaptime</div>
            <div id="stickersContainerMobile"></div>
            <div id="canvasContainerMobile" class="strip-canvas-container">
              <canvas id="drawCanvasMobile"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Tool options panel -->
      <div id="toolOptions" class="tool-options">
        <!-- Colors -->
        <div id="optColors" class="tool-option-panel">
          <div class="tool-option-colors" id="mobileColors"></div>
        </div>
        
        <!-- Stickers -->
        <div id="optStickers" class="tool-option-panel hidden">
          <div class="mobile-sticker-grid" id="mobileStickerGrid"></div>
          <button id="mobileClearStickers" class="mobile-clear-btn">Clear all</button>
        </div>
        
        <!-- Draw -->
        <div id="optDraw" class="tool-option-panel hidden">
          <div class="mobile-draw-controls">
            <div class="mobile-draw-colors" id="mobileDrawColors"></div>
            <div class="mobile-draw-sizes" id="mobileDrawSizes"></div>
            <div class="mobile-draw-actions">
              <button id="mobileUndoDraw" class="mobile-draw-btn">‚Ü©</button>
              <button id="mobileClearDraw" class="mobile-draw-btn">Clear</button>
            </div>
          </div>
        </div>
        
        <!-- Effects -->
        <div id="optEffects" class="tool-option-panel hidden">
          <div class="mobile-effects" id="mobileEffects"></div>
        </div>
      </div>

      <!-- Bottom toolbar -->
      <div class="mobile-toolbar">
        <div class="toolbar-tools">
          <button id="toolColor" class="tool-btn active" data-tool="colors">
            <span class="tool-icon">üé®</span>
            <span class="tool-label">Color</span>
          </button>
          <button id="toolSticker" class="tool-btn" data-tool="stickers">
            <span class="tool-icon">‚ú®</span>
            <span class="tool-label">Stickers</span>
          </button>
          <button id="toolDraw" class="tool-btn" data-tool="draw">
            <span class="tool-icon">‚úèÔ∏è</span>
            <span class="tool-label">Draw</span>
          </button>
          <button id="toolEffect" class="tool-btn" data-tool="effects">
            <span class="tool-icon">‚ö°</span>
            <span class="tool-label">Effects</span>
          </button>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="mobile-action-buttons">
        <button id="mobileDownloadBtn" class="mobile-download-btn">Download</button>
        <button id="mobileResetBtn" class="mobile-reset-btn-text">Snap again</button>
      </div>
    </div>
  </div>

  <!-- FLASH -->
  <div id="flash" class="flash-effect hidden"></div>

  <script src="app.js"></script>
</body>
</html>
